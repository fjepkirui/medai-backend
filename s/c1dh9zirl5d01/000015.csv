"0",""
"0","#  top 5 countries by average rating for each dataset"
"0","top_5_pgA <- head(df_final[order(-df_final$`Average Rating (PGA)`), ], 5)"
"0","top_5_pgB <- head(df_final[order(-df_final$`Average Rating (PGB)`), ], 5)"
"0",""
"0","# Combine the top 5 countries from both datasets into one df"
"0","top_5_combined <- rbind("
"0","  data.frame(Country = top_5_pgA$Country, Rating = top_5_pgA$`Average Rating (PGA)`, Dataset = ""PGA""),"
"0","  data.frame(Country = top_5_pgB$Country, Rating = top_5_pgB$`Average Rating (PGB)`, Dataset = ""PGB"")"
"0",")"
"0",""
"0","#  bar plot"
"0",""
"0",""
"0","ggplot(top_5_combined, aes(x = reorder(Country, -Rating), y = Rating, fill = Dataset)) +"
"0","  geom_bar(stat = ""identity"", position = ""dodge"", width = 0.7) +  # Dodge for side-by-side bars"
"0","  labs(title = ""Top 5 Countries by Average Book Ratings (PGA vs PGB)"","
"0","       x = ""Country"", y = ""Average Rating"") +"
"0","  theme_minimal() +"
"0","  scale_fill_manual(values = c(""skyblue"", ""lightgreen"")) +  # Set colors for datasets"
"0","  theme("
"0","    axis.text.x = element_text(angle = 45, hjust = 1),  # Rotate x-axis labels for readability"
"0","    legend.position = ""top"",  # Move legend to the top"
"0","    plot.title = element_text(hjust = 0.5, size = 14, face = ""bold""),  # Center the title"
"0","    legend.title = element_blank()  # Removing legend title"
"0","  )"
